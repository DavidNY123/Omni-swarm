<launch>
    <arg name="show" default="true" />
    <arg name="output" default="screen" />
    <arg name="camera_config_path" default="/home/xuhao/swarm_ws/src/VINS-Fusion-Fisheye/config/fisheye_ptgrey_n3/front.yaml" />
    <node pkg="swarm_loop" type="swarm_loop_node" name="swarm_loop" output="screen" >
        <rosparam>
            lcm_uri: udpm://224.0.0.251:7667?ttl=1
            loop_image_downsample: 1.0
            init_loop_min_feature_num: 8
            init_loop_min_feature_num_l2: 8
            min_loop_feature_num: 8
            jpg_quality: 75
            enable_lk: true
            
            query_thres: 0.5
            init_query_thres: 0.8

            min_movement_keyframe: 0.1
            enable_pub_remote_img: false
            enable_sub_remote_img: true
            self_id: 1
            accept_min_3d_pts: 200
            max_freq: 10
            match_index_dist: 20
            superpoint_thres: 0.012
        </rosparam> 
        <remap from="/swarm_loop/netvlad" to="/swarm_loop/hfnet" />
        <param name="superpoint_model_path" value="$(find swarm_loop)/models/superpoint_v1_6_1.trt" type="string" />
        <param name="netvlad_model_path" value="$(find swarm_loop)/models/mobilenetvlad_208x400_mx250_fp16.trt" type="string" />
        <param name="debug_image" value="$(arg show)" type="bool" />
        <param name="send_img" value="false" type="bool" />
        <param name="camera_config_path" value="$(arg camera_config_path)" type="string" />
    </node>
</launch>
